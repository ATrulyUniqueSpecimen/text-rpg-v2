{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nsnih/text-rpg/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Story } from \"inkjs\";\n\nconst SAVE_KEYS = [\"ink_save_1\", \"ink_save_2\", \"ink_save_3\"] as const;\nconst ACTIVE_SLOT_KEY = \"ink_active_slot\";\n\ntype ChoiceView = { index: number; text: string };\n\nexport default function Page() {\n  type Mode = \"menu\" | \"stats\" | \"game\";\n\n  const [uiCoins, setUiCoins] = useState(0);\n  const [uiEquippedWeapon, setUiEquippedWeapon] = useState(\"none\");\n  const [uiEquippedArmor, setUiEquippedArmor] = useState(\"none\");\n  const [uiInventory, setUiInventory] = useState<string[]>([]);\n\n  const [mode, setMode] = useState<Mode>(\"menu\");\n  const [pendingSlot, setPendingSlot] = useState<number | null>(null);\n\n  const [stats, setStats] = useState({ STR_BASE: 5, CHA_BASE: 5, WIT_BASE: 5 });\n  const STAT_POOL = 15; // example, change as you like\n\n  const [storyJson, setStoryJson] = useState<any | null>(null);\n  const [story, setStory] = useState<Story | null>(null);\n\n  const [lines, setLines] = useState<string[]>([]);\n  const [choices, setChoices] = useState<ChoiceView[]>([]);\n\n  const [activeSlot, setActiveSlot] = useState<number>(0);\n  const [slotHasSave, setSlotHasSave] = useState<boolean[]>([false, false, false]);\n\n  function readSlotPresence(): boolean[] {\n    return SAVE_KEYS.map(k => !!localStorage.getItem(k));\n  }\n\n  function refreshSlotPresence() {\n    setSlotHasSave(readSlotPresence());\n  }\n\n  function saveToSlot(s: Story, slot: number) {\n    localStorage.setItem(SAVE_KEYS[slot], s.state.toJson());\n    localStorage.setItem(ACTIVE_SLOT_KEY, String(slot));\n    refreshSlotPresence();\n  }\n\n  function loadFromSlot(s: Story, slot: number): boolean {\n    const saved = localStorage.getItem(SAVE_KEYS[slot]);\n    if (!saved) return false;\n    try {\n      s.state.LoadJson(saved);\n      return true;\n    } catch {\n      localStorage.removeItem(SAVE_KEYS[slot]);\n      refreshSlotPresence();\n      return false;\n    }\n  }\n\n  function clearSlot(slot: number) {\n    localStorage.removeItem(SAVE_KEYS[slot]);\n    refreshSlotPresence();\n  }\n\n  function buildUIFromStory(s: Story, resetTranscript: boolean) {\n    const newLines: string[] = [];\n    while (s.canContinue) {\n      const t = (s as any).Continue().trim();\n      if (t) newLines.push(t);\n    }\n\n    if (resetTranscript) setLines(newLines);\n    else if (newLines.length) setLines(prev => [...prev, ...newLines]);\n\n    setChoices(s.currentChoices.map(c => ({ index: c.index, text: c.text })));\n    \n    syncSidebar(s);\n  }\n\n  function startFreshInSlot(slot: number, chosenStats: { STR_BASE: number; CHA_BASE: number; WIT_BASE: number }) {\n    if (!storyJson) return;\n\n    const s = new Story(storyJson);\n\n    // Set Ink globals before any Continue()\n    s.variablesState[\"STR_BASE\"] = chosenStats.STR_BASE;\n    s.variablesState[\"CHA_BASE\"] = chosenStats.CHA_BASE;\n    s.variablesState[\"WIT_BASE\"] = chosenStats.WIT_BASE;\n\n    setStory(s);\n    setActiveSlot(slot);\n\n    setLines([]);\n    setChoices([]);\n\n    buildUIFromStory(s, true);\n    saveToSlot(s, slot);\n\n    setMode(\"game\");\n  }\n\n  function StatEditor({\n    stats,\n    setStats,\n    pool,\n  }: {\n    stats: { STR_BASE: number; CHA_BASE: number; WIT_BASE: number };\n    setStats: (s: { STR_BASE: number; CHA_BASE: number; WIT_BASE: number }) => void;\n    pool: number;\n  }) {\n    const total = stats.STR_BASE + stats.CHA_BASE + stats.WIT_BASE;\n    const remaining = pool - total;\n\n    function setOne(k: \"STR_BASE\" | \"CHA_BASE\" | \"WIT_BASE\", v: number) {\n      const clamped = Math.max(0, Math.min(20, v));\n      setStats({ ...stats, [k]: clamped });\n    }\n\n    const LABELS: Record<string, string> = {\n      STR_BASE: \"STR\",\n      CHA_BASE: \"CHA\",\n      WIT_BASE: \"INT\",\n    };\n\n    return (\n      <div style={{ display: \"grid\", gap: 12, marginTop: 16 }}>\n        <div style={{ opacity: 0.85 }}>Remaining: {remaining}</div>\n\n        {([\"STR_BASE\", \"CHA_BASE\", \"WIT_BASE\"] as const).map(k => (\n          <div key={k} style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\n            <div style={{ width: 50, fontWeight: 700 }}>{LABELS[k]}</div>\n            <button onClick={() => setOne(k, stats[k] - 1)} disabled={stats[k] <= 0}>-</button>\n            <div style={{ width: 30, textAlign: \"center\" }}>{stats[k]}</div>\n            <button\n              onClick={() => setOne(k, stats[k] + 1)}\n              disabled={remaining <= 0}\n            >\n              +\n            </button>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  function beginNewGame(slot: number) {\n    setPendingSlot(slot);\n    setStats({ STR_BASE: 5, CHA_BASE: 5, WIT_BASE: 5 }); // defaults\n    setMode(\"stats\");\n  }\n\n  function confirmStats() {\n    if (pendingSlot === null) return;\n    startFreshInSlot(pendingSlot, stats);\n    setPendingSlot(null);\n  }\n\n  function loadSlot(slot: number) {\n    if (!storyJson) return;\n\n    const s = new Story(storyJson);\n    const ok = loadFromSlot(s, slot);\n\n    if (!ok) {\n      // If there is no save or it is corrupt, do nothing.\n      return;\n    }\n\n    setStory(s);\n    setActiveSlot(slot);\n\n    setLines([]);\n    setChoices([]);\n\n    buildUIFromStory(s, true);\n\n    // Normalize by resaving immediately.\n    saveToSlot(s, slot);\n\n    setMode(\"game\");\n  }\n\n  function choose(i: number) {\n    if (!story) return;\n    story.ChooseChoiceIndex(i);\n    buildUIFromStory(story, false);\n    saveToSlot(story, activeSlot);\n  }\n\n  function backToMenu() {\n    setMode(\"menu\");\n    setStory(null);\n    setLines([]);\n    setChoices([]);\n    refreshSlotPresence();\n  }\n\n  function asNumber(v: any, fallback = 0) {\n    if (typeof v === \"number\") return v;\n    const n = parseInt(String(v ?? \"\"), 10);\n    return Number.isFinite(n) ? n : fallback;\n  }\n\n  function asString(v: any, fallback = \"none\") {\n    if (typeof v === \"string\") return v;\n    if (v == null) return fallback;\n\n    // inkjs list items / ink lists stringify nicely (e.g. \"ITEMS.rusty_sword\")\n    if (typeof v.toString === \"function\") {\n      const s = v.toString();\n      return s ? s : fallback;\n    }\n\n    return String(v);\n  }\n\n  function normalizeItemId(raw: string) {\n    // \"ITEMS.rusty_sword\" -> \"rusty_sword\"\n    const s = raw.trim();\n    const dot = s.lastIndexOf(\".\");\n    return dot >= 0 ? s.slice(dot + 1) : s;\n  }\n\n  function inkListToIds(v: any): string[] {\n    if (v == null) return [];\n\n    // inkjs InkList stringifies to comma-separated items.\n    // Example: \"ITEMS.rusty_sword, ITEMS.old_sack\"\n    const s = typeof v === \"string\" ? v : (typeof v.toString === \"function\" ? v.toString() : \"\");\n    if (!s) return [];\n\n    return s\n      .split(\",\")\n      .map(t => normalizeItemId(t))\n      .filter(Boolean)\n      .filter(id => id !== \"none\"); // donâ€™t show \"none\" in inventory\n  }\n\n  function syncSidebar(s: Story) {\n    setUiCoins(asNumber((s as any).variablesState[\"coins\"], 0));\n\n    const eqWraw = asString((s as any).variablesState[\"eq_weapon\"], \"none\");\n    const eqAraw = asString((s as any).variablesState[\"eq_armor\"], \"none\");\n\n    // normalize \"ITEMS.rusty_sword\" -> \"rusty_sword\"\n    setUiEquippedWeapon(normalizeItemId(eqWraw));\n    setUiEquippedArmor(normalizeItemId(eqAraw));\n\n    const invVal = (s as any).variablesState[\"inv\"];\n    const invIds = inkListToIds(invVal);\n\n    // Turn ids into display names for your sidebar list\n    setUiInventory(invIds.map(pretty));\n  }\n\n  const ITEM_NAMES: Record<string, string> = {\n    none: \"None\",\n    rusty_sword: \"Rusty Sword\",\n    leather_armor: \"Leather Armor\",\n    old_sack: \"Old Sack\",\n  };\n\n  function pretty(id: string) {\n    const norm = normalizeItemId(id);\n    return ITEM_NAMES[norm] ?? norm;\n  }\n\n  useEffect(() => {\n    // Load story.json once on page load.\n    (async () => {\n      const res = await fetch(\"/story.json\");\n      const json = await res.json();\n      setStoryJson(json);\n\n      // Update save presence after localStorage is available.\n      refreshSlotPresence();\n\n      // Optional: keep last active slot highlighted in the menu.\n      const raw = localStorage.getItem(ACTIVE_SLOT_KEY);\n      const n = raw ? parseInt(raw, 10) : 0;\n      if (Number.isFinite(n) && n >= 0 && n <= 2) setActiveSlot(n);\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <main style={{ maxWidth: 720, margin: \"40px auto\", padding: 16 }}>\n      {mode === \"menu\" && (\n        <div>\n          <h1 style={{ marginBottom: 8 }}>Text RPG</h1>\n          <p style={{ marginTop: 0, opacity: 0.8 }}>\n            Choose a save slot.\n          </p>\n\n          <div style={{ display: \"grid\", gap: 12, marginTop: 18 }}>\n            {[0, 1, 2].map(slot => (\n              <div\n                key={slot}\n                style={{\n                  border: \"1px solid rgba(255,255,255,0.15)\",\n                  borderRadius: 10,\n                  padding: 12,\n                  display: \"flex\",\n                  flexWrap: \"wrap\",\n                  gap: 10,\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <div>\n                  <div style={{ fontWeight: 700 }}>\n                    Save {slot + 1} {slotHasSave[slot] ? \"\" : \"(empty)\"}\n                  </div>\n                  <div style={{ opacity: 0.8, fontSize: 14 }}>\n                    {slotHasSave[slot] ? \"Progress saved on this device.\" : \"Start a new run here.\"}\n                  </div>\n                </div>\n\n                <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\n                  <button onClick={() => beginNewGame(slot)}>\n                    New Game\n                  </button>\n\n                  <button\n                    onClick={() => loadSlot(slot)}\n                    disabled={!slotHasSave[slot]}\n                  >\n                    Load\n                  </button>\n\n                  <button\n                    onClick={() => clearSlot(slot)}\n                    disabled={!slotHasSave[slot]}\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div style={{ marginTop: 18, opacity: 0.75, fontSize: 13 }}>\n            Saves use localStorage, so they live per browser per device until deleted.\n          </div>\n        </div>\n      )}\n\n      {mode === \"stats\" && (\n        <div>\n          <h1 style={{ marginBottom: 8 }}>Create Character</h1>\n\n          <p style={{ marginTop: 0, opacity: 0.8 }}>\n            Distribute {STAT_POOL} points.\n          </p>\n\n          <StatEditor\n            stats={stats}\n            setStats={setStats}\n            pool={STAT_POOL}\n          />\n\n          <div style={{ display: \"flex\", gap: 10, marginTop: 16, flexWrap: \"wrap\" }}>\n            <button onClick={() => { setMode(\"menu\"); setPendingSlot(null); }}>\n              Back\n            </button>\n            <button onClick={confirmStats} disabled={stats.STR_BASE + stats.CHA_BASE + stats.WIT_BASE !== STAT_POOL}>\n              Confirm\n            </button>\n          </div>\n        </div>\n      )}\n\n      {mode === \"game\" && (\n        <div>\n          <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", marginBottom: 16 }}>\n            <button onClick={backToMenu}>Back to Menu</button>\n            <div style={{ opacity: 0.8, alignSelf: \"center\" }}>\n              Playing: Save {activeSlot + 1}\n            </div>\n          </div>\n\n          <div style={{ display: \"flex\", gap: 16, alignItems: \"flex-start\" }}>\n            {/* Left: story */}\n            <div style={{ flex: 1, minWidth: 0 }}>\n              <div style={{ whiteSpace: \"pre-wrap\", lineHeight: 1.5 }}>\n                {lines.map((t, idx) => (\n                  <p key={idx}>{t}</p>\n                ))}\n              </div>\n\n              <div style={{ display: \"grid\", gap: 10, marginTop: 18 }}>\n                {choices.map(c => (\n                  <button key={c.index} onClick={() => choose(c.index)}>\n                    {c.text}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Right: sidebar */}\n            <aside\n              style={{\n                width: 260,\n                border: \"1px solid rgba(255,255,255,0.15)\",\n                borderRadius: 10,\n                padding: 12,\n                position: \"sticky\",\n                top: 20,\n              }}\n            >\n              <div style={{ fontWeight: 800, marginBottom: 10 }}>Save {activeSlot + 1}</div>\n\n              <div style={{ marginBottom: 12 }}>\n                <div style={{ opacity: 0.75, fontSize: 13 }}>Coins</div>\n                <div style={{ fontSize: 18, fontWeight: 700 }}>{uiCoins}</div>\n              </div>\n\n              <div style={{ marginBottom: 12 }}>\n                <div style={{ opacity: 0.75, fontSize: 13, marginBottom: 4 }}>Equipped</div>\n                <div style={{ fontSize: 14 }}>Weapon: {pretty(uiEquippedWeapon)}</div>\n                <div style={{ fontSize: 14 }}>Armor: {pretty(uiEquippedArmor)}</div>\n              </div>\n\n              <div>\n                <div style={{ opacity: 0.75, fontSize: 13, marginBottom: 6 }}>Inventory</div>\n                {uiInventory.length === 0 ? (\n                  <div style={{ opacity: 0.7, fontSize: 14 }}>Empty</div>\n                ) : (\n                  <ul style={{ margin: 0, paddingLeft: 18 }}>\n                    {uiInventory.map(item => (\n                      <li key={item}>{item}</li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n            </aside>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n}"],"names":[],"mappings":"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"}}]
}