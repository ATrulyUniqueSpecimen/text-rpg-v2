{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nsnih/text-rpg-v2/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Story } from \"inkjs\";\r\n\r\nconst SAVE_KEYS = [\"ink_save_1\", \"ink_save_2\", \"ink_save_3\"] as const;\r\nconst ACTIVE_SLOT_KEY = \"ink_active_slot\";\r\n\r\ntype ChoiceView = { index: number; text: string };\r\n\r\nexport default function Page() {\r\n  type Mode = \"menu\" | \"stats\" | \"game\";\r\n\r\n  const [uiCoins, setUiCoins] = useState(0);\r\n  const [uiEquippedWeapon, setUiEquippedWeapon] = useState(\"none\");\r\n  const [uiEquippedArmor, setUiEquippedArmor] = useState(\"none\");\r\n  const [uiEquippedOutfit, setUiEquippedOutfit] = useState(\"none\");\r\n  const [uiEquippedHat, setUiEquippedHat] = useState(\"none\");\r\n  const [uiEquippedNecklace, setUiEquippedNecklace] = useState(\"none\");\r\n  const [uiEquippedRing, setUiEquippedRing] = useState(\"none\");\r\n  const [uiInventory, setUiInventory] = useState<string[]>([]);\r\n\r\n  const [mode, setMode] = useState<Mode>(\"menu\");\r\n  const [pendingSlot, setPendingSlot] = useState<number | null>(null);\r\n\r\n  const [stats, setStats] = useState({ STR_BASE: 5, CHA_BASE: 5, WIT_BASE: 5 });\r\n  const STAT_POOL = 15; // example, change as you like\r\n\r\n  const [storyJson, setStoryJson] = useState<any | null>(null);\r\n  const [story, setStory] = useState<Story | null>(null);\r\n\r\n  const [lines, setLines] = useState<string[]>([]);\r\n  const [choices, setChoices] = useState<ChoiceView[]>([]);\r\n\r\n  const [activeSlot, setActiveSlot] = useState<number>(0);\r\n  const [slotHasSave, setSlotHasSave] = useState<boolean[]>([false, false, false]);\r\n\r\n  function readSlotPresence(): boolean[] {\r\n    return SAVE_KEYS.map(k => !!localStorage.getItem(k));\r\n  }\r\n\r\n  function refreshSlotPresence() {\r\n    setSlotHasSave(readSlotPresence());\r\n  }\r\n\r\n  function saveToSlot(s: Story, slot: number) {\r\n    localStorage.setItem(SAVE_KEYS[slot], s.state.toJson());\r\n    localStorage.setItem(ACTIVE_SLOT_KEY, String(slot));\r\n    refreshSlotPresence();\r\n  }\r\n\r\n  function loadFromSlot(s: Story, slot: number): boolean {\r\n    const saved = localStorage.getItem(SAVE_KEYS[slot]);\r\n    if (!saved) return false;\r\n    try {\r\n      s.state.LoadJson(saved);\r\n      return true;\r\n    } catch {\r\n      localStorage.removeItem(SAVE_KEYS[slot]);\r\n      refreshSlotPresence();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function clearSlot(slot: number) {\r\n    localStorage.removeItem(SAVE_KEYS[slot]);\r\n    refreshSlotPresence();\r\n  }\r\n\r\n  function buildUIFromStory(s: Story, resetTranscript: boolean) {\r\n    const newLines: string[] = [];\r\n    while (s.canContinue) {\r\n      const t = (s as any).Continue().trim();\r\n      if (t) newLines.push(t);\r\n    }\r\n\r\n    if (resetTranscript) setLines(newLines);\r\n    else if (newLines.length) setLines(prev => [...prev, ...newLines]);\r\n\r\n    setChoices(s.currentChoices.map(c => ({ index: c.index, text: c.text })));\r\n\r\n    syncSidebar(s);\r\n  }\r\n\r\n  function startFreshInSlot(slot: number, chosenStats: { STR_BASE: number; CHA_BASE: number; WIT_BASE: number }) {\r\n    if (!storyJson) return;\r\n\r\n    const s = new Story(storyJson);\r\n\r\n    // Set Ink globals before any Continue()\r\n    s.variablesState[\"STR_BASE\"] = chosenStats.STR_BASE;\r\n    s.variablesState[\"CHA_BASE\"] = chosenStats.CHA_BASE;\r\n    s.variablesState[\"WIT_BASE\"] = chosenStats.WIT_BASE;\r\n\r\n    setStory(s);\r\n    setActiveSlot(slot);\r\n\r\n    setLines([]);\r\n    setChoices([]);\r\n\r\n    buildUIFromStory(s, true);\r\n    saveToSlot(s, slot);\r\n\r\n    setMode(\"game\");\r\n  }\r\n\r\n  function StatEditor({\r\n    stats,\r\n    setStats,\r\n    pool,\r\n  }: {\r\n    stats: { STR_BASE: number; CHA_BASE: number; WIT_BASE: number };\r\n    setStats: (s: { STR_BASE: number; CHA_BASE: number; WIT_BASE: number }) => void;\r\n    pool: number;\r\n  }) {\r\n    const total = stats.STR_BASE + stats.CHA_BASE + stats.WIT_BASE;\r\n    const remaining = pool - total;\r\n\r\n    function setOne(k: \"STR_BASE\" | \"CHA_BASE\" | \"WIT_BASE\", v: number) {\r\n      const clamped = Math.max(0, Math.min(20, v));\r\n      setStats({ ...stats, [k]: clamped });\r\n    }\r\n\r\n    const LABELS: Record<string, string> = {\r\n      STR_BASE: \"STR\",\r\n      CHA_BASE: \"CHA\",\r\n      WIT_BASE: \"INT\",\r\n    };\r\n\r\n    return (\r\n      <div style={{ display: \"grid\", gap: 12, marginTop: 16 }}>\r\n        <div style={{ opacity: 0.85 }}>Remaining: {remaining}</div>\r\n\r\n        {([\"STR_BASE\", \"CHA_BASE\", \"WIT_BASE\"] as const).map(k => (\r\n          <div key={k} style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\r\n            <div style={{ width: 50, fontWeight: 700 }}>{LABELS[k]}</div>\r\n            <button onClick={() => setOne(k, stats[k] - 1)} disabled={stats[k] <= 0}>-</button>\r\n            <div style={{ width: 30, textAlign: \"center\" }}>{stats[k]}</div>\r\n            <button\r\n              onClick={() => setOne(k, stats[k] + 1)}\r\n              disabled={remaining <= 0}\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function beginNewGame(slot: number) {\r\n    setPendingSlot(slot);\r\n    setStats({ STR_BASE: 5, CHA_BASE: 5, WIT_BASE: 5 }); // defaults\r\n    setMode(\"stats\");\r\n  }\r\n\r\n  function confirmStats() {\r\n    if (pendingSlot === null) return;\r\n    startFreshInSlot(pendingSlot, stats);\r\n    setPendingSlot(null);\r\n  }\r\n\r\n  function loadSlot(slot: number) {\r\n    if (!storyJson) return;\r\n\r\n    const s = new Story(storyJson);\r\n    const ok = loadFromSlot(s, slot);\r\n\r\n    if (!ok) {\r\n      // If there is no save or it is corrupt, do nothing.\r\n      return;\r\n    }\r\n\r\n    setStory(s);\r\n    setActiveSlot(slot);\r\n\r\n    setLines([]);\r\n    setChoices([]);\r\n\r\n    buildUIFromStory(s, true);\r\n\r\n    // Normalize by resaving immediately.\r\n    saveToSlot(s, slot);\r\n\r\n    setMode(\"game\");\r\n  }\r\n\r\n  function choose(i: number) {\r\n    if (!story) return;\r\n    story.ChooseChoiceIndex(i);\r\n    buildUIFromStory(story, false);\r\n    saveToSlot(story, activeSlot);\r\n  }\r\n\r\n  function backToMenu() {\r\n    setMode(\"menu\");\r\n    setStory(null);\r\n    setLines([]);\r\n    setChoices([]);\r\n    refreshSlotPresence();\r\n  }\r\n\r\n  function asNumber(v: any, fallback = 0) {\r\n    if (typeof v === \"number\") return v;\r\n    const n = parseInt(String(v ?? \"\"), 10);\r\n    return Number.isFinite(n) ? n : fallback;\r\n  }\r\n\r\n  function asString(v: any, fallback = \"none\") {\r\n    if (typeof v === \"string\") return v;\r\n    if (v == null) return fallback;\r\n\r\n    // inkjs list items / ink lists stringify nicely (e.g. \"ITEMS.rusty_sword\")\r\n    if (typeof v.toString === \"function\") {\r\n      const s = v.toString();\r\n      return s ? s : fallback;\r\n    }\r\n\r\n    return String(v);\r\n  }\r\n\r\n  function normalizeItemId(raw: string) {\r\n    // \"ITEMS.rusty_sword\" -> \"rusty_sword\"\r\n    const s = raw.trim();\r\n    const dot = s.lastIndexOf(\".\");\r\n    return dot >= 0 ? s.slice(dot + 1) : s;\r\n  }\r\n\r\n  function inkListToIds(v: any): string[] {\r\n    if (v == null) return [];\r\n\r\n    // inkjs InkList stringifies to comma-separated items.\r\n    // Example: \"ITEMS.rusty_sword, ITEMS.old_sack\"\r\n    const s: string = typeof v === \"string\" ? v : (typeof v.toString === \"function\" ? v.toString() : \"\");\r\n    if (!s) return [];\r\n\r\n    return s\r\n      .split(\",\")\r\n      .map((t: string) => normalizeItemId(t))\r\n      .filter(Boolean)\r\n      .filter((id: string) => id !== \"none\"); // donâ€™t show \"none\" in inventory\r\n  }\r\n\r\n  function syncSidebar(s: Story) {\r\n    setUiCoins(asNumber((s as any).variablesState[\"coins\"], 0));\r\n\r\n    const eqWraw = asString((s as any).variablesState[\"eq_weapon\"], \"none\");\r\n    const eqAraw = asString((s as any).variablesState[\"eq_armor\"], \"none\");\r\n    const eqOraw = asString((s as any).variablesState[\"eq_outfit\"], \"none\");\r\n    const eqHraw = asString((s as any).variablesState[\"eq_hat\"], \"none\");\r\n    const eqNraw = asString((s as any).variablesState[\"eq_necklace\"], \"none\");\r\n    const eqRraw = asString((s as any).variablesState[\"eq_ring\"], \"none\");\r\n\r\n    // normalize \"ITEMS.rusty_sword\" -> \"rusty_sword\"\r\n    setUiEquippedWeapon(normalizeItemId(eqWraw));\r\n    setUiEquippedArmor(normalizeItemId(eqAraw));\r\n    setUiEquippedOutfit(normalizeItemId(eqOraw));\r\n    setUiEquippedHat(normalizeItemId(eqHraw));\r\n    setUiEquippedNecklace(normalizeItemId(eqNraw));\r\n    setUiEquippedRing(normalizeItemId(eqRraw));\r\n\r\n    const invVal = (s as any).variablesState[\"inv\"];\r\n    const invIds = inkListToIds(invVal);\r\n\r\n    // Turn ids into display names for your sidebar list\r\n    setUiInventory(invIds.map(pretty));\r\n  }\r\n\r\n  const ITEM_NAMES: Record<string, string> = {\r\n    none: \"None\",\r\n    rusty_sword: \"Rusty Sword\",\r\n    leather_armor: \"Leather Armor\",\r\n    old_sack: \"Old Sack\",\r\n  };\r\n\r\n  function pretty(id: string) {\r\n    const norm = normalizeItemId(id);\r\n    return ITEM_NAMES[norm] ?? norm;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Load story.json once on page load.\r\n    (async () => {\r\n      const res = await fetch(\"/story.json\");\r\n      const json = await res.json();\r\n      setStoryJson(json);\r\n\r\n      // Update save presence after localStorage is available.\r\n      refreshSlotPresence();\r\n\r\n      // Optional: keep last active slot highlighted in the menu.\r\n      const raw = localStorage.getItem(ACTIVE_SLOT_KEY);\r\n      const n = raw ? parseInt(raw, 10) : 0;\r\n      if (Number.isFinite(n) && n >= 0 && n <= 2) setActiveSlot(n);\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <main style={{ maxWidth: 720, margin: \"40px auto\", padding: 16 }}>\r\n      {mode === \"menu\" && (\r\n        <div>\r\n          <h1 style={{ marginBottom: 8 }}>Text RPG</h1>\r\n          <p style={{ marginTop: 0, opacity: 0.8 }}>\r\n            Choose a save slot.\r\n          </p>\r\n\r\n          <div style={{ display: \"grid\", gap: 12, marginTop: 18 }}>\r\n            {[0, 1, 2].map(slot => (\r\n              <div\r\n                key={slot}\r\n                style={{\r\n                  border: \"1px solid rgba(255,255,255,0.15)\",\r\n                  borderRadius: 10,\r\n                  padding: 12,\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  gap: 10,\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                }}\r\n              >\r\n                <div>\r\n                  <div style={{ fontWeight: 700 }}>\r\n                    Save {slot + 1} {slotHasSave[slot] ? \"\" : \"(empty)\"}\r\n                  </div>\r\n                  <div style={{ opacity: 0.8, fontSize: 14 }}>\r\n                    {slotHasSave[slot] ? \"Progress saved on this device.\" : \"Start a new run here.\"}\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\r\n                  <button onClick={() => beginNewGame(slot)}>\r\n                    New Game\r\n                  </button>\r\n\r\n                  <button\r\n                    onClick={() => loadSlot(slot)}\r\n                    disabled={!slotHasSave[slot]}\r\n                  >\r\n                    Load\r\n                  </button>\r\n\r\n                  <button\r\n                    onClick={() => clearSlot(slot)}\r\n                    disabled={!slotHasSave[slot]}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div style={{ marginTop: 18, opacity: 0.75, fontSize: 13 }}>\r\n            Saves use localStorage, so they live per browser per device until deleted.\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {mode === \"stats\" && (\r\n        <div>\r\n          <h1 style={{ marginBottom: 8 }}>Create Character</h1>\r\n\r\n          <p style={{ marginTop: 0, opacity: 0.8 }}>\r\n            Distribute {STAT_POOL} points.\r\n          </p>\r\n\r\n          <StatEditor\r\n            stats={stats}\r\n            setStats={setStats}\r\n            pool={STAT_POOL}\r\n          />\r\n\r\n          <div style={{ display: \"flex\", gap: 10, marginTop: 16, flexWrap: \"wrap\" }}>\r\n            <button onClick={() => { setMode(\"menu\"); setPendingSlot(null); }}>\r\n              Back\r\n            </button>\r\n            <button onClick={confirmStats} disabled={stats.STR_BASE + stats.CHA_BASE + stats.WIT_BASE !== STAT_POOL}>\r\n              Confirm\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {mode === \"game\" && (\r\n        <div>\r\n          <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\", marginBottom: 16 }}>\r\n            <button onClick={backToMenu}>Back to Menu</button>\r\n            <div style={{ opacity: 0.8, alignSelf: \"center\" }}>\r\n              Playing: Save {activeSlot + 1}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", gap: 16, alignItems: \"flex-start\" }}>\r\n            {/* Left: story */}\r\n            <div style={{ flex: 1, minWidth: 0 }}>\r\n              <div style={{ whiteSpace: \"pre-wrap\", lineHeight: 1.5 }}>\r\n                {lines.map((t, idx) => (\r\n                  <p key={idx}>{t}</p>\r\n                ))}\r\n              </div>\r\n\r\n              <div style={{ display: \"grid\", gap: 10, marginTop: 18 }}>\r\n                {choices.map(c => (\r\n                  <button key={c.index} onClick={() => choose(c.index)}>\r\n                    {c.text}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right: sidebar */}\r\n            <aside\r\n              style={{\r\n                width: 260,\r\n                border: \"1px solid rgba(255,255,255,0.15)\",\r\n                borderRadius: 10,\r\n                padding: 12,\r\n                position: \"sticky\",\r\n                top: 20,\r\n              }}\r\n            >\r\n              <div style={{ fontWeight: 800, marginBottom: 10 }}>Save {activeSlot + 1}</div>\r\n\r\n              <div style={{ marginBottom: 12 }}>\r\n                <div style={{ opacity: 0.75, fontSize: 13 }}>Coins</div>\r\n                <div style={{ fontSize: 18, fontWeight: 700 }}>{uiCoins}</div>\r\n              </div>\r\n\r\n              <div style={{ marginBottom: 12 }}>\r\n                <div style={{ opacity: 0.75, fontSize: 13, marginBottom: 4 }}>Equipped</div>\r\n                <div style={{ fontSize: 14 }}>Weapon: {pretty(uiEquippedWeapon)}</div>\r\n                <div style={{ fontSize: 14 }}>Armor: {pretty(uiEquippedArmor)}</div>\r\n                <div style={{ fontSize: 14 }}>Outfit: {pretty(uiEquippedOutfit)}</div>\r\n                <div style={{ fontSize: 14 }}>Hat: {pretty(uiEquippedHat)}</div>\r\n                <div style={{ fontSize: 14 }}>Necklace: {pretty(uiEquippedNecklace)}</div>\r\n                <div style={{ fontSize: 14 }}>Ring: {pretty(uiEquippedRing)}</div>\r\n              </div>\r\n\r\n              <div>\r\n                <div style={{ opacity: 0.75, fontSize: 13, marginBottom: 6 }}>Inventory</div>\r\n                {uiInventory.length === 0 ? (\r\n                  <div style={{ opacity: 0.7, fontSize: 14 }}>Empty</div>\r\n                ) : (\r\n                  <ul style={{ margin: 0, paddingLeft: 18 }}>\r\n                    {uiInventory.map(item => (\r\n                      <li key={item}>{item}</li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </div>\r\n            </aside>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}